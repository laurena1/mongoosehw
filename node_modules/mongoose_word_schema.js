var mongoose = require('mongoose');

var Schema = mongoose.Schema;


var studentSchema = new Schema({
   
    first: {
        type: String,
        index: 1,
        required: true,
        unique: true
    },
        last: {
        type: String,
        index: 1,
        required: true,
        unique: true
    },
        
        major: {
        type: String,
        index: 1,
        required: true,
        unique: true
      
    },
  
       grades: {
             homework1: Number,
             homework2: Number,
             homework3: Number
       }
     
},


{
    collection: 'students'
});
//Here we are adding a method to the schema. This makes our documents more object-like.
studentSchema.methods.average = function() {
    {
        var average = 0;
        average += this.grades.homework1;
        average += this.grades.homework2;
        average += this.grades.homework3;
        average = average / 3;
        
        return average;
    }
}

exports.studentSchema = studentSchema;
