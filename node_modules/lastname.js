var mongoose = require('mongoose');

var connString = "mongodb://" + process.env.IP + ":27017/";
var dbName = "studentsdb";

//connect
var db = mongoose.connect(connString + dbName);

//get the schema - notice how we use the export
var studentSchema = require('./mongoose_word_schema.js').studentSchema;

//make the model - assocated it with the schema
var Students = mongoose.model('Students', studentSchema);

//for disonnecting
setTimeout(function() {
    mongoose.disconnect();
}, 3000);

mongoose.connection.once('open', function() {
    
    
    var query = Students.find({'last': /^[a,c,e,g,i,k,m,o,q,s,u,w,y]/i});
    query.exec(function(err, docs) {
        
        for(var i in docs)
        {
            console.log("Student Name: " + docs[i].first + " " + docs[i].last);
            console.log(" ");
            }
        });
           
           
           
           
           
    });//connection